var pageCounter=1;
var xhttp=new XMLHttpRequest();
var button=document.getElementById("button");
var info=document.getElementById("info")

button.addEventListener('click',function(){
    xhttp.open('GET','https://learnwebcode.github.io/json-example/animals-'+pageCounter+'.json');
    xhttp.onload=function(){
        var ourData=JSON.parse(xhttp.responseText);
        renderHtml(ourData);
    };
    
    xhttp.send();
    pageCounter++;
    if(pageCounter>3){
        button.classList.add('hide-me');
    }
})

function renderHtml(data){
    var newData="";

    for(i=0;i<data.length;i++){
        newData += "<p>"+data[i].name + "is a " +data[i].species + " that likes to eat "
    for(j=0;j<data[i].foods.likes.length;j++){
        if(j==0){
            newData+=data[i].foods.likes[j];
        }
        else{
            newData+= " and "+ data[i].foods.likes[j];  
        }
    }
    newData+=" but dislikes to eat ";
    for(k=0;k<data[i].foods.dislikes.length;k++){
        if(k==0){
            newData+=data[i].foods.dislikes[k];
        }
        else{
            newData+= " and "+ data[i].foods.dislikes[k];  
        }
    }

    newData+=".</p>";
}
    info.insertAdjacentHTML('beforeend',newData);
}
